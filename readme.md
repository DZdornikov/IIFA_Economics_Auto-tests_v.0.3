# Репозиторий для автоматизации тестирования модуля "Экономика"

## Перед началом работы
### Python
1. Установи **Python 3.11.1** (https://www.python.org/downloads/release/python-3111/)


### Poetry
1. Установи **poetry** (https://python-poetry.org/docs/) `Он нужен для управления зависимостями`

### Config
1. Скопируй **config_example.py** в корневую директорию, переименуй в **config.py**
2. Инструкция по заполнению прописана в самом конфиге, так что дерзай.

### ffmpeg
1. Создать папку **"video_reports"** в корневой директории
2. Скачай **VLC media player**                           `Он нужен для проигрывания видеозаписей автотестов`
3. Пропиши в **config.py** путь к ffmpeg в соответствующей строке

### Allure
1. Установи **allure** (https://docs.qameta.io/allure/)
2. Команды для терминала:
   1. pytest {тут может быть конкретный тест/файл с тестом/ничего} --alluredir allure-results              
   `Запускает все тесты и собирает данные для репорта`
   
      `Также данную команду можно прописать в конфигурацию запускатора pycharm`
   2. allure serve allure-results                    `Создает отчет по результатам тестов`
3. Второй путь (возможно, правильный, так как сохраняет историю отчетов):
      1. pytest {тут может быть конкретный тест/файл с тестом/ничего} --alluredir allure-results
      2. открываем папку tests в терминале
      3. allure generate --clean
      4. allure open
4. **Третий - путь нормального человека**
   1. В верхней части экрана Pycharm, слева от зеленой кнопки play, кликаем на раскрывающийся список и кликаем на 
   "Edit configurations"
   2. Выбираем конфигурацию конкретного теста (она там появляется после первого запуска через зеленую кнопку play слева 
   от названия теста)
   3. В поле "Additional arguments" вставляем `--alluredir allure-results`
   4. Теперь после каждого запуска у нас генерится инфа о нем для allure
   5. Чтобы сделать allure-отчет, нужно открыть терминал и последовательно ввести 3 команды:
      1. `cd tests`
      2. `allure generate --clean`
      3. `allure open`